rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // 與程式碼一致的集合路徑：artifacts/{appId}/communities 與 accounts
    match /artifacts/{appId}/communities/{docId} {
      allow read, write: if true; // 開發測試期間開放；正式上線請改為 request.auth != null
    }
    match /artifacts/{appId}/accounts/{docId} {
      allow read, write: if true; // 開發測試期間開放；正式上線請改為 request.auth != null
    }

    // 其他路徑仍預設拒絕
    match /{document=**} {
      allow read, write: if false;
    }
  }
}