rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // 允許讀寫設定頁使用的集合：communities 與 accounts
    match /artifacts/{appId}/settings/communities/{docId} {
      allow read, write: if true; // 開放以便目前開發測試，正式上線請改為 request.auth != null
    }
    match /artifacts/{appId}/settings/accounts/{docId} {
      allow read, write: if true; // 開放以便目前開發測試，正式上線請改為 request.auth != null
    }

    // 其他路徑仍預設拒絕
    match /{document=**} {
      allow read, write: if false;
    }
  }
}